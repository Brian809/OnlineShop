# VueOnlineShop 项目路线图

## 项目概述

构建一个完整的 B2C 电商平台，包括商品展示、购物车、订单管理、用户认证等核心功能。

---

## 进度概览

| 阶段 | 功能 | 状态 | 优先级 |
|------|------|------|--------|
| 阶段1 | 项目基础设置 | ✅ 完成 | ⭐⭐⭐⭐⭐ |
| 阶段2 | 用户认证系统 | ✅ 完成 | ⭐⭐⭐⭐⭐ |
| 阶段3 | 商品管理系统 | ✅ 完成 | ⭐⭐⭐⭐⭐ |
| 阶段4 | 购物车功能 | ⏳ 待开发 | ⭐⭐⭐⭐ |
| 阶段5 | 订单系统 | ⏳ 待开发 | ⭐⭐⭐⭐ |
| 阶段6 | 支付集成 | ⏳ 待开发 | ⭐⭐⭐ |
| 阶段7 | 用户个人中心 | ⏳ 待开发 | ⭐⭐⭐ |
| 阶段8 | 评价系统 | ⏳ 待开发 | ⭐⭐ |
| 阶段9 | 高级功能 | ⏳ 待开发 | ⭐⭐ |
| 阶段10 | 测试和部署 | ⏳ 待开发 | ⭐⭐⭐⭐ |

---

## 第一阶段：项目基础设置 ✅

### 后端配置
- ✅ Express.js 框架搭建
- ✅ Passport.js 认证集成（Local + JWT）
- ✅ Sequelize ORM 配置
- ✅ MySQL 数据库连接
- ✅ 环境变量管理 (.env)
- ✅ CORS 跨域配置
- ✅ nodemon 自动重启

### 前端配置
- ✅ Vue 3 + Vite 项目初始化
- ✅ Vue Router 路由配置
- ✅ Pinia 状态管理
- ✅ Element Plus UI 组件库
- ✅ API 请求封装

---

## 第二阶段：用户认证系统 ✅

### 后端
- ✅ 用户模型设计 (User Model)
- ✅ 密码加密 (bcryptjs)
- ✅ Passport Local Strategy 实现
- ✅ JWT 令牌认证
- ✅ 注册接口 (POST /api/auth/register)
- ✅ 登录接口 (POST /api/auth/login)
- ✅ 支持邮箱或用户名登录
- ✅ 用户禁用功能
- ✅ 用户认证中间件

### 前端
- ✅ 登录/注册页面
- ✅ 用户认证 store (user.js)
- ✅ 路由守卫
- ✅ Token 自动管理
- ✅ 登录状态持久化

---

## 第三阶段：商品管理系统 ✅

### 后端
- ✅ 商品模型设计 (Product Model)
- ✅ 获取商品列表接口 (GET /api/products)
- ✅ 获取商品详情接口 (GET /api/products/:id)
- ✅ 创建商品接口 (POST /api/products) - 管理员
- ✅ 更新商品接口 (PATCH /api/products/:id) - 管理员
- ✅ 删除商品接口 (DELETE /api/products/:id) - 管理员
- ✅ 图片上传功能（base64 转文件）
- ✅ 开发/生产环境图片存储切换

### 前端
- ✅ 商品列表页面 (Home.vue)
- ✅ 商品管理页面 (productManagement.vue)
- ✅ 商品卡片组件 (card.vue)
- ✅ 图片上传组件（el-upload）
- ✅ 图片显示优化（object-fit: cover）
- ✅ 商品分类选择
- ✅ 商品评分展示

---

## 第四阶段：购物车功能 ⏳

### 后端
- ⏳ 购物车模型完善 (Cart Model)
- ⏳ 添加到购物车接口 (POST /api/cart)
- ⏳ 获取购物车接口 (GET /api/cart)
- ⏳ 更新购物车接口 (PUT /api/cart/:itemId)
- ⏳ 删除购物车项目接口 (DELETE /api/cart/:itemId)
- ⏳ 清空购物车接口

### 前端
- ⏳ 购物车 store (重构 counter.js)
- ⏳ 购物车页面
- ⏳ 添加商品到购物车
- ⏳ 修改数量和删除功能
- ⏳ 购物车数量显示

---

## 第五阶段：订单系统 ⏳

### 后端
- ⏳ 订单模型设计 (Order Model)
- ⏳ 订单项目模型 (OrderItem Model)
- ⏳ 创建订单接口 (POST /api/orders)
- ⏳ 获取订单列表接口 (GET /api/orders)
- ⏳ 获取订单详情接口 (GET /api/orders/:id)
- ⏳ 订单状态管理
- ⏳ 订单取消功能

### 前端
- ⏳ 结算页面
- ⏳ 订单确认页面
- ⏳ 订单历史页面
- ⏳ 订单详情页面
- ⏳ 订单追踪

---

## 第六阶段：支付集成 ⏳

- ⏳ 支付网关集成（支付宝/微信支付）
- ⏳ 支付流程实现
- ⏳ 支付回调处理
- ⏳ 发票生成
- ⏳ 退款功能

---

## 第七阶段：用户个人中心 ⏳

### 后端
- ✅ 获取用户信息接口 (GET /api/auth/me)
- ✅ 更新用户信息接口 (PUT /api/users/:id)
- ⏳ 修改密码接口
- ⏳ 地址簿管理接口

### 前端
- ⏳ 个人资料页面
- ⏳ 订单历史
- ⏳ 地址管理
- ⏳ 账户设置
- ⏳ 修改密码

---

## 第八阶段：评价和反馈系统 ⏳

### 后端
- ⏳ 评价模型设计 (Review Model)
- ⏳ 创建评价接口
- ⏳ 获取商品评价接口
- ⏳ 删除评价接口
- ⏳ 评价审核功能

### 前端
- ⏳ 评价列表展示
- ⏳ 发表评价功能
- ⏳ 评价管理
- ⏳ 评价统计

---

## 第九阶段：高级功能 ⏳

- ⏳ 收藏夹功能
- ⏳ 优惠券系统
- ⏳ 商品推荐算法
- ⏳ 库存管理
- ⏳ 数据分析和报表
- ⏳ 消息通知系统
- ⏳ 搜索优化

---

## 第十阶段：测试和部署 ⏳

### 测试
- ⏳ 后端单元测试
- ⏳ 集成测试
- ⏳ 前端组件测试
- ⏳ E2E 测试

### 部署
- ⏳ Docker 容器化
- ⏳ 数据库备份策略
- ⏳ CI/CD 流程
- ⏳ 性能优化
- ⏳ 安全加固
- ⏳ 生产环境图床配置

---

## 技术栈

### 后端
- **框架**: Express.js 4.16.1
- **认证**: Passport.js
- **ORM**: Sequelize 6.37.7
- **数据库**: MySQL
- **密码加密**: bcryptjs
- **验证**: joi
- **日志**: morgan

### 前端
- **框架**: Vue 3.5.26
- **构建工具**: Vite 7.3.1
- **路由**: Vue Router 4.6.4
- **状态管理**: Pinia 3.0.4
- **UI 组件**: Element Plus 2.13.1
- **HTTP 封装**: fetch API

### 工具
- **版本控制**: Git
- **包管理**: npm
- **开发**: VS Code
- **数据库管理**: MySQL Workbench

---

## 已知问题和优化项

### 待优化
- ⏳ 图片上传到图床（生产环境）
- ⏳ API 文档（Swagger）
- ⏳ 错误日志记录
- ⏳ 请求限流
- ⏳ 缓存优化

### 待修复
- ⏳ Sequelize 查询警告（确保所有查询使用 where 子句）
- ⏳ 前端错误边界处理

---

## 注意事项

1. ✅ 已完成阶段 1-3，核心功能可用
2. ⏳ 定期进行代码审查和重构
3. ✅ 重视安全性，已实现用户认证和权限控制
4. ✅ 保持代码文档完整（AGENTS.md）
5. ⏳ 定期备份数据库

---

## 项目文档

- **完整文档**: [AGENTS.md](AGENTS.md)
- **快速开始**: [QUICKSTART.md](QUICKSTART.md)

---

**当前版本**: v0.3.0
**最后更新**: 2026-02-01